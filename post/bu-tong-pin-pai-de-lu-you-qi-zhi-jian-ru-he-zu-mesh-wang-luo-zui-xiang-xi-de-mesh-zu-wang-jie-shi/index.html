<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>不同品牌的路由器之间，如何组mesh网络——最详细的mesh组网解释 | 龙行天下</title>
<link rel="shortcut icon" href="https://wwl717.github.io/favicon.ico?v=1766834854911">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://wwl717.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="不同品牌的路由器之间，如何组mesh网络——最详细的mesh组网解释 | 龙行天下 - Atom Feed" href="https://wwl717.github.io/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="
大家都知道单个路由器的信号覆盖范围是有限的，所以空间再大了，就需要多个路由器配合来完成空间覆盖（我这里为省事就那两个路由器举例）。
那么既然是两个路由器一起工作，他们就需要商量如何一起协同工作。我们通常把每个需要协同工作的路由器叫做无线a..." />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://wwl717.github.io">
  <img class="avatar" src="https://wwl717.github.io/images/avatar.png?v=1766834854911" alt="">
  </a>
  <h1 class="site-title">
    龙行天下
  </h1>
  <p class="site-description">
    温故而知新
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="https://wwl717.github.io/post/gu-ge-yun-yong-jiu-mian-fei-vps-de-5-ge-zhen-xiang-ni-bu-zhi-dao-de-ji-hu-mian-fei-mi-mi" class="menu">
          标签
        </a>
      
    
      
        <a href="https://wwl717.github.io/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/wwl717" target="_blank">
          <i class="ri-github-line"></i>
        </a>
      
    
      
        <a href="https://x.com/wangwenlong0717" target="_blank">
          <i class="ri-twitter-line"></i>
        </a>
      
    
      
    
      
    
      
        <a href="https://www.facebook.com/Tianxia%20Longxing" target="_blank">
          <i class="ri-facebook-line"></i>
        </a>
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              不同品牌的路由器之间，如何组mesh网络——最详细的mesh组网解释
            </h2>
            <div class="post-info">
              <span>
                2025-12-27
              </span>
              <span>
                10 min read
              </span>
              
            </div>
            
              <img class="post-feature-image" src="https://wwl717.github.io/post-images/bu-tong-pin-pai-de-lu-you-qi-zhi-jian-ru-he-zu-mesh-wang-luo-zui-xiang-xi-de-mesh-zu-wang-jie-shi.jpg" alt="">
            
            <div class="post-content-wrapper">
              <div class="post-content" v-pre>
                <p><img src="https://wwl717.github.io/post-images/1766834162706.jpg" alt="" loading="lazy"><br>
大家都知道单个路由器的信号覆盖范围是有限的，所以空间再大了，就需要多个路由器配合来完成空间覆盖（我这里为省事就那两个路由器举例）。</p>
<p>那么既然是两个路由器一起工作，他们就需要商量如何一起协同工作。我们通常把每个需要协同工作的路由器叫做无线ap。</p>
<p>于是就有了这么三种协商结果</p>
<p>WDS技术也叫无线桥接，用一台路由器<strong>无线连接</strong>另一台路由器 。不过这个技术没有解决信号切换的问题。手机经常会死抱着最后的一格信号而拒绝接入一个信号满格的AP。</p>
<p>这时候就需要我们手动切换信号，这么反人类的东西十年前就应该被淘汰了。但是直到现在购物平台上还在热卖。我也实在想不通。</p>
<p>除了能桥接以外，我们还需要自动漫游技术（或者叫无缝漫游）这样手机才会自动去链接信号比较好的那个路由器。</p>
<p>AC+AP 简单的说就是加了一个领导来管理和协调工作。这样的工作的效果是上去了，不过整体的成本上来了。一般家庭使用的话也并不推荐。</p>
<p>最后一个是mesh网络，它优点是组网灵活。既能达到手机在AP间自由切换的目的，也不需要加任何AC来协调工作。两个AP信号不够时就可以再加一台来增加信号覆盖，非常的灵活。</p>
<p>不过目前市面上的路由器只能在同品牌之间组mesh网络，或者你买了一台路由器刷了openwrt系统，它就不能和品牌的路由器组网了。这个要这么解决呢？</p>
<p>要解决这个问题，我们必须要了解mesh组网的工作原理。</p>
<figure data-type="image" tabindex="1"><img src="attachment:40240649-1f00-4c46-a577-8af3ceaed7e8:image1.png" alt="descript" loading="lazy"></figure>
<p>我们看下这幅图，你会发现。mesh组网解决的是路由器之间的传输问题。其中无线回程使用了802.11s的协议。</p>
<p>而真正实现WiFi自动漫游（或者叫无缝漫游）的是kvr协议，而且因为协议r只是起到快速切换的作用，所以很多路由器只支持了kv两种协议，同样可以实现自动漫游。</p>
<p>另外这些协议需要你的手机、电脑设备和路由器同时支持才会生效。不过现在我们使用的手机大部分是可以支持这些协议的。比如苹果手机公布的信息它们在iPhone6s的设备上就实现了kvr三大漫游协议的支持，8年前推出的机型了。所以大家使用的的智能手机应该都是支持自动漫游的。</p>
<p>了解了这些知识以后，我们就知道。只要把两台路由器用有线或者无线的方式连接。并且打开路由器上的KVR协议就可以实现和mesh网络同样的效果。大概得网络架构如图。</p>
<figure data-type="image" tabindex="2"><img src="attachment:7fe618fc-44d2-423c-b6ec-a822f90eb7fe:image2.png" alt="descript" loading="lazy"></figure>
<p>接下来我们用两台不同品牌路由器做演示。其中一台红米的AX6000 ，另外一台是TPlink的XDR6088 这两台路由器我都已经刷成了openwrt系统。不会刷机的可以参考我的前两期视频。刷了第三方系统之后，路由器的无线设定会比较丰富。方便做一些细节设置，当然用潘多拉或者梅林的系统也能达到同样的效果。参数设置也是类似。</p>
<p>至于品牌路由的原系统，理论上可以通过类似设置达到无线漫游的结果。这个我会在视频最后总结。</p>
<p>这里我们先演示下openwrt系统下的设置。</p>
<ol>
<li>有线回程</li>
</ol>
<blockquote>
<p>我们先演示下两台路由器在有线回程下的mesh网络。网络需要两台路由器通过一条网线连接。</p>
<figure data-type="image" tabindex="3"><img src="attachment:41d016f4-72e8-442d-80b8-aa24efbb3788:image3.png" alt="descript" loading="lazy"></figure>
</blockquote>
<p>主路由先不做改动，先设置下副路由。我们先来联通两台路由器。</p>
<blockquote></blockquote>
<p>我们进入路由器的openwrt，选择网络——接口，找到LAN，点击修改。</p>
<figure data-type="image" tabindex="4"><img src="attachment:8aa65a1c-a833-43cb-aa16-fb8542d4545f:image5.png" alt="descript" loading="lazy"></figure>
<figure data-type="image" tabindex="5"><img src="attachment:3ba463a9-937e-4ccc-ae3a-5ce475d00bdd:image6.png" alt="descript" loading="lazy"></figure>
<p>在基本设置这里修改IP和网关。设置之后IP地址会有变化，我们需要重新用192.168.50.2重新登录到路由器界面。</p>
<figure data-type="image" tabindex="6"><img src="attachment:678fa5cf-5e61-4743-8845-61739cfa9304:image7.png" alt="descript" loading="lazy"></figure>
<p>关掉副路由器的DHCP功能。</p>
<figure data-type="image" tabindex="7"><img src="attachment:8262b780-021e-4bf9-80b6-890e39ba7a07:image8.png" alt="descript" loading="lazy"></figure>
<p>再点到IPv6设置，将ipv6的服务也禁用掉。点击保存并应用。此时我们用有线连接到副路由，看看能不能上网。如果可以上网就表明以上这些设置成功了。</p>
<h3 id="注意接下来的步骤需要分别在主副路由器上设置默认情况下主副路由上的设置内容要求一致个别设置会有不同到时候我会特别指出">注意：接下来的步骤需要分别在主副路由器上设置，默认情况下主副路由上的设置内容要求一致（个别设置会有不同，到时候我会特别指出）。</h3>
<figure data-type="image" tabindex="8"><img src="attachment:e3a5a9fd-ff7b-456d-ab19-f3c44bdbd8bd:image9.png" alt="descript" loading="lazy"></figure>
<p>接着我们点击系统，软件包。在过滤器里输入“wpa”点击查找。</p>
<figure data-type="image" tabindex="9"><img src="attachment:e7caf8b9-f1eb-43e6-973d-d09e1c4f8f18:image10.png" alt="descript" loading="lazy"></figure>
<p>找到wpad的WiFi设置，我们看到目前这个是basic版本的。</p>
<p>如果看到是我们需要安装wpad-mesh-openssl或wpad-mesh-wolfssl。没有mesh字样的插件有可能无法无线漫游，“basic”或者“mini”版本的插件无法设置有线漫游。这里需要注意下。</p>
<figure data-type="image" tabindex="10"><img src="attachment:e3b7a44e-e05c-4ddd-a2e6-aa0305f205bc:image11.png" alt="descript" loading="lazy"></figure>
<p>如果是其他版本的wpad插件，我们需要先删除原有插件。</p>
<figure data-type="image" tabindex="11"><img src="attachment:0192f9cc-d0ec-4040-8767-84e1e9461523:image12.png" alt="descript" loading="lazy"></figure>
<figure data-type="image" tabindex="12"><img src="attachment:cad29a48-d719-4ce1-85da-ad30720edce3:image13.png" alt="descript" loading="lazy"></figure>
<p>然后到可用软件包里找到，wpad-mesh-openssl或wpad-mesh-wolfssl。并选择安装。</p>
<figure data-type="image" tabindex="13"><img src="attachment:186bafe6-0d31-4355-86b7-d30812b5dabb:image14.png" alt="descript" loading="lazy"></figure>
<p>再找到网络——无线设置。这里我们看到有两个无线通道，分别标注着2.4G和5G的频段，这是目前最典型的双频路由器的两个频段。</p>
<p>我们这里只设置5G频段的漫游即可，因为一般2.4G频段我会留给智能开关，插座。这些设备一般都是固定位置的，不需要漫游。</p>
<p>如果你有需要，设置的步骤和5G频道是一样的。你可以依葫芦画瓢的弄一下就行了。</p>
<figure data-type="image" tabindex="14"><img src="attachment:aa7113b1-fabf-4fd7-8a5e-296fd51cbb93:image15.png" alt="descript" loading="lazy"></figure>
<p>我们点击修改进入到无线设置里。</p>
<figure data-type="image" tabindex="15"><img src="attachment:40639dd8-6581-4232-96fa-ca35b9b9faae:image16.png" alt="descript" loading="lazy"></figure>
<p>下拉，找到接口配置。模式保持默认的“接入点AP”。ESSID就是无线名称，这里主副路由要设置成一样。</p>
<figure data-type="image" tabindex="16"><img src="attachment:e8a229a1-fc25-4de4-99aa-01c7f83b19d7:image17.png" alt="descript" loading="lazy"></figure>
<p>再无线安全里，选择“WPA2-PSK”加密方式，算法选择“强制ccmp（AES）”。正常设置一个密码，然后把下面的802.11K、802.11V、802.11R三个选项全部勾选起来。</p>
<figure data-type="image" tabindex="17"><img src="attachment:4a3c02d5-89ba-4c11-8548-7fcf25f26a6c:image18.png" alt="descript" loading="lazy"></figure>
<p>nasid只每个无线AP的标识，主副路由需要填写不同。我这里就用网卡的Mac地址区分。</p>
<p>按照片提示，填写以下802.11r的信息。主副路由都要填写。</p>
<figure data-type="image" tabindex="18"><img src="attachment:7d50aa77-4e7c-49d1-8039-a951de430af4:image19.png" alt="descript" loading="lazy"></figure>
<p>填写完毕后，点击“保存并应用”来完成设置。</p>
<p>通常情况，此时mesh网络已经生效。用设备测试一下发现可以无线漫游，但是漫游发生的不是特别积极。</p>
<p>这里我有做了一些优化。</p>
<figure data-type="image" tabindex="19"><img src="attachment:029ec4db-79fe-4435-8c71-1f8d766107d9:image20.png" alt="descript" loading="lazy"></figure>
<figure data-type="image" tabindex="20"><img src="attachment:ab28cf65-2177-4a35-bd33-dac853c72f07:image21.png" alt="descript" loading="lazy"></figure>
<p>列表示范：</p>
<p>一顿猛如虎的操作以后，漫游效果好了不少。</p>
<figure data-type="image" tabindex="21"><img src="attachment:b6566a99-965d-4c63-9cf8-dd567087795d:image22.jpg" alt="descript" loading="lazy"></figure>
<p>这是我用小米10 Pro测试的漫游结果，一共发生了三次漫游。切换的阈值大约是在70-dBm-75dBm之间。测试效果比我之前用过的mesh套装要稍差一点。不过基本还能让人满意。</p>
<p>以上是有线mesh的效果，如果两个路由器间没有网线预埋。就只能用无线回程了。下面我就就介绍下无线mesh的设置过程。</p>
<figure data-type="image" tabindex="22"><img src="attachment:a0089106-44c5-4b31-aff6-0f76621627ff:image23.png" alt="descript" loading="lazy"></figure>
<p>在无线这里选择添加</p>
<figure data-type="image" tabindex="23"><img src="attachment:4ea7c0d3-e84f-4036-9a83-34b79656aef9:image24.png" alt="descript" loading="lazy"></figure>
<figure data-type="image" tabindex="24"><img src="attachment:e59c97df-f732-45d3-912d-c100e6ce8231:image25.png" alt="descript" loading="lazy"></figure>
<p>如果你的两个路由器之间的信号强度不好，就要把这个剔除弱信号的勾选去掉。否则有可能连接不成功。当然我不建议两个路由器之间摆放的太远。</p>
<figure data-type="image" tabindex="25"><img src="attachment:ba349016-dfd8-4faf-b575-7289e64eef36:image26.png" alt="descript" loading="lazy"></figure>
<p>同样的设置也在主路由上做一遍，然后这时一定要马上把主副路由的网线断开。（这种方式有线回程和无线回程无法自动切换，我们需要手动切换）</p>
<p>看到以上的信息，就说明无线回程已经建立成功。</p>
<figure data-type="image" tabindex="26"><img src="attachment:a397e936-fab8-4202-80fe-16af566e7beb:image27.png" alt="descript" loading="lazy"></figure>
<p>当然也可以给这个mesh网络加一个密码，这样数据传输会更安全。不过我觉得这个并没有太多的必要。</p>
<figure data-type="image" tabindex="27"><img src="attachment:1e25e261-b16e-43f1-a7db-6d079b1c77cc:image28.png" alt="descript" loading="lazy"></figure>
<p><strong>注意：切换到有线回程时，需要把先无线回程的mesh停用掉。否则会引起网络环路！</strong></p>
<h3 id="实际效果对比">实际效果对比</h3>
<p>漫游效果大家已经看过了，基本还是比较满意的。接下来我简单做一个带宽测试。看下mesh网络下的带宽究竟如何。</p>
<p>这里我简单的做一个最直观的大文件传送测试。</p>
<p>家里太小，只有80多平方。明明单个路由器就可以覆盖，测试mesh网络就有点勉强了。</p>
<p>路由器放在客厅，我把笔记本搬到了隔两道墙的院子里做测试。</p>
<p>这个是测试结果，我们实际上在院子里大约维持在70dBm，高功率的FEM芯片在这样的条件下还是有一定的速率的。</p>
<p>换上了有线回程之后，无线的上传和下载速度都可以跑满。带宽有了很大的提升，但是组无线mesh时遇到了一些问题。传输速度很不稳定，甚至时长会断联。</p>
<p>拓展：EasyMesh由Wi-Fi联盟推出，旨在实现多个AP Wi-Fi网络的相互连接和控制，无论这些网络设备来自哪个厂商。使用EasyMesh标准，不同制造商的Mesh WiFi硬件可以兼容。</p>
<p>也就是说，可以将来自不同品牌的Mesh WiFi设备组合在一起使用，并建立一个统一的、无缝的WiFi网络。EasyMesh使用通用标准，允许来自多个不同品牌的设备加入，从而提高了设备之间的互操作性。EasyMesh的最新版本是EasyMesh R2。</p>
<p>不过支持easymesh功能的路由器目前是在不多，在openWRT系统的easymesh插件不可以直接安装，只有需要编译过来才能用。除了openWRT以外就只有个别的运营商定制版本的路由器支持easymesh。</p>
<p>不过通过以上方法可以设置mesh网络并实现无线漫游。虽然在设置上麻烦了一些，不过好在只用设置一次。而且效果上也不输于品牌路由的mesh网络。</p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li><a href="#%E6%B3%A8%E6%84%8F%E6%8E%A5%E4%B8%8B%E6%9D%A5%E7%9A%84%E6%AD%A5%E9%AA%A4%E9%9C%80%E8%A6%81%E5%88%86%E5%88%AB%E5%9C%A8%E4%B8%BB%E5%89%AF%E8%B7%AF%E7%94%B1%E5%99%A8%E4%B8%8A%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E6%83%85%E5%86%B5%E4%B8%8B%E4%B8%BB%E5%89%AF%E8%B7%AF%E7%94%B1%E4%B8%8A%E7%9A%84%E8%AE%BE%E7%BD%AE%E5%86%85%E5%AE%B9%E8%A6%81%E6%B1%82%E4%B8%80%E8%87%B4%E4%B8%AA%E5%88%AB%E8%AE%BE%E7%BD%AE%E4%BC%9A%E6%9C%89%E4%B8%8D%E5%90%8C%E5%88%B0%E6%97%B6%E5%80%99%E6%88%91%E4%BC%9A%E7%89%B9%E5%88%AB%E6%8C%87%E5%87%BA">注意：接下来的步骤需要分别在主副路由器上设置，默认情况下主副路由上的设置内容要求一致（个别设置会有不同，到时候我会特别指出）。</a></li>
<li><a href="#%E5%AE%9E%E9%99%85%E6%95%88%E6%9E%9C%E5%AF%B9%E6%AF%94">实际效果对比</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://wwl717.github.io/post/hong-mi-ax3000-cr880x-xi-lie-mian-chai-ji-shua-ji-jiao-cheng/">
              <h3 class="post-title">
                红米ax3000 CR880X系列免拆机刷机教程
              </h3>
            </a>
          </div>
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '',
    clientSecret: '',
    repo: '',
    owner: '',
    admin: [''],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https://wwl717.github.io/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
